{"version":3,"sources":["ng://ngx-skycons/lib/ngx-skycons-types.ts","ng://ngx-skycons/lib/ngx-skycons.component.ts","ng://ngx-skycons/lib/ngx-skycons.module.ts"],"names":["CLEAR_DAY","CLEAR_NIGHT","PARTLY_CLOUDY_DAY","PARTLY_CLOUDY_NIGHT","CLOUDY","RAIN","SLEET","SNOW","WIND","FOG","STROKE","TAU","Math","PI","TWO_OVER_SQRT_2","sqrt","SkyconsComponent","this","list","raf","window","requestAnimationFrame","webkitRequestAnimationFrame","caf","cancelAnimationFrame","webkitCancelAnimationFrame","WIND_PATHS","WIND_OFFSETS","start","end","prototype","requestInterval","fn","i","_this","handle","value","loop","cancelInterval","circle","ctx","x","y","r","beginPath","arc","fill","line","ax","ay","bx","by","moveTo","lineTo","stroke","puff","t","cx","cy","rx","ry","rmin","rmax","c","cos","s","sin","puffs","cloud","cw","color","a","b","d","fillStyle","globalCompositeOperation","sun","p","strokeStyle","lineWidth","lineCap","lineJoin","moon","closePath","_rain","_sleet","floor","_snow","u","ux","uy","v","vx","vy","w","wx","wy","fogbank","leaf","e","f","swoosh","index","total","path","length","clearDay","canvas","width","h","height","min","clearNight","partlyCloudyDay","partlyCloudyNight","cloudy","rain","sleet","snow","wind","fog","k","n","ngOnInit","ngOnChanges","changes","remove","nativeElement","add","play","ngAfterViewInit","weather","obj","el","element","context","getContext","push","draw","time","resizeClear","clearRect","replace","toUpperCase","includes","SkyconsTypes","pause","interval","now","Date","splice","Component","args","selector","template","ViewChild","Input","SkyconsModule","NgModule","declarations","imports","exports"],"mappings":"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","sourcesContent":["export enum SkyconsTypes {\r\n    CLEAR_DAY = 'CLEARDAY',\r\n    CLEAR_NIGHT = 'CLEARNIGHT',\r\n    PARTLY_CLOUDY_DAY = 'PARTLYCLOUDYDAY',\r\n    PARTLY_CLOUDY_NIGHT = 'PARTLYCLOUDYNIGHT',\r\n    CLOUDY = 'CLOUDY',\r\n    RAIN = 'RAIN',\r\n    SLEET = 'SLEET',\r\n    SNOW = 'SNOW',\r\n    WIND = 'WIND',\r\n    FOG = 'FOG'\r\n}","import { Component, OnInit, ElementRef, ViewChild, Input, AfterViewInit, SimpleChanges, OnChanges } from '@angular/core';\nimport { SkyconsTypes } from './ngx-skycons-types';\n\nexport const KEYFRAME = 500;\nexport const STROKE = 0.08;\nexport const TAU = 2.0 * Math.PI;\nexport const TWO_OVER_SQRT_2 = 2.0 / Math.sqrt(2);\n\n@Component({\n  selector: 'sc-skycons',\n  template: `\n    <canvas #skyconCanvas class=\"skycons__canvas\"></canvas>\n  `,\n  styles: [`\n    :host {\n      width: 100%;\n      display: inline-block;\n    }\n  `]\n})\nexport class SkyconsComponent implements OnInit, AfterViewInit, OnChanges {\n\n  @ViewChild('skyconCanvas') canvas: ElementRef;\n\n  @Input() weather: string;\n  @Input() color: string;\n  @Input() resizeClear: boolean;\n  @Input() width: string;\n\n  ctx: any;\n  interval: any;\n  list = [];\n\n  raf: any = window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame;\n\n  caf: any = window.cancelAnimationFrame ||\n    window.webkitCancelAnimationFrame;\n\n  WIND_PATHS = [\n    [\n      -0.7500, -0.1800, -0.7219, -0.1527, -0.6971, -0.1225,\n      -0.6739, -0.0910, -0.6516, -0.0588, -0.6298, -0.0262,\n      -0.6083, 0.0065, -0.5868, 0.0396, -0.5643, 0.0731,\n      -0.5372, 0.1041, -0.5033, 0.1259, -0.4662, 0.1406,\n      -0.4275, 0.1493, -0.3881, 0.1530, -0.3487, 0.1526,\n      -0.3095, 0.1488, -0.2708, 0.1421, -0.2319, 0.1342,\n      -0.1943, 0.1217, -0.1600, 0.1025, -0.1290, 0.0785,\n      -0.1012, 0.0509, -0.0764, 0.0206, -0.0547, -0.0120,\n      -0.0378, -0.0472, -0.0324, -0.0857, -0.0389, -0.1241,\n      -0.0546, -0.1599, -0.0814, -0.1876, -0.1193, -0.1964,\n      -0.1582, -0.1935, -0.1931, -0.1769, -0.2157, -0.1453,\n      -0.2290, -0.1085, -0.2327, -0.0697, -0.2240, -0.0317,\n      -0.2064, 0.0033, -0.1853, 0.0362, -0.1613, 0.0672,\n      -0.1350, 0.0961, -0.1051, 0.1213, -0.0706, 0.1397,\n      -0.0332, 0.1512, 0.0053, 0.1580, 0.0442, 0.1624,\n      0.0833, 0.1636, 0.1224, 0.1615, 0.1613, 0.1565,\n      0.1999, 0.1500, 0.2378, 0.1402, 0.2749, 0.1279,\n      0.3118, 0.1147, 0.3487, 0.1015, 0.3858, 0.0892,\n      0.4236, 0.0787, 0.4621, 0.0715, 0.5012, 0.0702,\n      0.5398, 0.0766, 0.5768, 0.0890, 0.6123, 0.1055,\n      0.6466, 0.1244, 0.6805, 0.1440, 0.7147, 0.1630,\n      0.7500, 0.1800\n    ],\n    [\n      -0.7500, 0.0000, -0.7033, 0.0195, -0.6569, 0.0399,\n      -0.6104, 0.0600, -0.5634, 0.0789, -0.5155, 0.0954,\n      -0.4667, 0.1089, -0.4174, 0.1206, -0.3676, 0.1299,\n      -0.3174, 0.1365, -0.2669, 0.1398, -0.2162, 0.1391,\n      -0.1658, 0.1347, -0.1157, 0.1271, -0.0661, 0.1169,\n      -0.0170, 0.1046, 0.0316, 0.0903, 0.0791, 0.0728,\n      0.1259, 0.0534, 0.1723, 0.0331, 0.2188, 0.0129,\n      0.2656, -0.0064, 0.3122, -0.0263, 0.3586, -0.0466,\n      0.4052, -0.0665, 0.4525, -0.0847, 0.5007, -0.1002,\n      0.5497, -0.1130, 0.5991, -0.1240, 0.6491, -0.1325,\n      0.6994, -0.1380, 0.7500, -0.1400\n    ]\n  ];\n\n  WIND_OFFSETS = [\n    { start: 0.36, end: 0.11 },\n    { start: 0.56, end: 0.16 }\n  ];\n\n  private requestInterval(fn: any, i: number) {\n    var handle = { value: null };\n\n    let loop = () => {\n      handle.value = this.raf(loop);\n      fn();\n    }\n\n    loop();\n    return handle;\n  }\n\n  private cancelInterval(handle: any) {\n    this.caf(handle.value)\n  }\n\n  private circle(ctx, x, y, r) {\n    ctx.beginPath();\n    ctx.arc(x, y, r, 0, TAU, false);\n    ctx.fill();\n  }\n\n  line(ctx, ax, ay, bx, by) {\n    ctx.beginPath();\n    ctx.moveTo(ax, ay);\n    ctx.lineTo(bx, by);\n    ctx.stroke();\n  }\n\n  private puff(ctx, t, cx, cy, rx, ry, rmin, rmax) {\n    let c = Math.cos(t * TAU),\n      s = Math.sin(t * TAU);\n\n    rmax -= rmin;\n\n    this.circle(\n      ctx,\n      cx - s * rx,\n      cy + c * ry + rmax * 0.5,\n      rmin + (1 - c * 0.5) * rmax\n    );\n  }\n\n  private puffs(ctx, t, cx, cy, rx, ry, rmin, rmax) {\n    let i;\n\n    for (i = 5; i--;)\n      this.puff(ctx, t + i / 5, cx, cy, rx, ry, rmin, rmax);\n  }\n\n  private cloud(ctx, t, cx, cy, cw, s, color) {\n    t /= 30000;\n\n    let a = cw * 0.21,\n      b = cw * 0.12,\n      c = cw * 0.24,\n      d = cw * 0.28;\n\n    ctx.fillStyle = color;\n    this.puffs(ctx, t, cx, cy, a, b, c, d);\n\n    ctx.globalCompositeOperation = 'destination-out';\n    this.puffs(ctx, t, cx, cy, a, b, c - s, d - s);\n    ctx.globalCompositeOperation = 'source-over';\n  }\n\n  sun(ctx, t, cx, cy, cw, s, color) {\n    t /= 120000;\n\n    let a = cw * 0.25 - s * 0.5,\n      b = cw * 0.32 + s * 0.5,\n      c = cw * 0.50 - s * 0.5,\n      i, p, cos, sin;\n\n    ctx.strokeStyle = color;\n    ctx.lineWidth = s;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n\n    ctx.beginPath();\n    ctx.arc(cx, cy, a, 0, TAU, false);\n    ctx.stroke();\n\n    for (i = 8; i--;) {\n      p = (t + i / 8) * TAU;\n      cos = Math.cos(p);\n      sin = Math.sin(p);\n      this.line(ctx, cx + cos * b, cy + sin * b, cx + cos * c, cy + sin * c);\n    }\n  }\n\n  private moon(ctx, t, cx, cy, cw, s, color) {\n    t /= 15000;\n\n    let a = cw * 0.29 - s * 0.5,\n      b = cw * 0.05,\n      c = Math.cos(t * TAU),\n      p = c * TAU / -16;\n\n    ctx.strokeStyle = color;\n    ctx.lineWidth = s;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n\n    cx += c * b;\n\n    ctx.beginPath();\n    ctx.arc(cx, cy, a, p + TAU / 8, p + TAU * 7 / 8, false);\n    ctx.arc(cx + Math.cos(p) * a * TWO_OVER_SQRT_2, cy + Math.sin(p) * a * TWO_OVER_SQRT_2, a, p + TAU * 5 / 8, p + TAU * 3 / 8, true);\n    ctx.closePath();\n    ctx.stroke();\n  }\n\n  private _rain(ctx, t, cx, cy, cw, s, color) {\n    t /= 1350;\n\n    let a = cw * 0.16,\n      b = TAU * 11 / 12,\n      c = TAU * 7 / 12,\n      i, p, x, y;\n\n    ctx.fillStyle = color;\n\n    for (i = 4; i--;) {\n      p = (t + i / 4) % 1;\n      x = cx + ((i - 1.5) / 1.5) * (i === 1 || i === 2 ? -1 : 1) * a;\n      y = cy + p * p * cw;\n      ctx.beginPath();\n      ctx.moveTo(x, y - s * 1.5);\n      ctx.arc(x, y, s * 0.75, b, c, false);\n      ctx.fill();\n    }\n  }\n\n  private _sleet(ctx, t, cx, cy, cw, s, color) {\n    t /= 750;\n\n    let a = cw * 0.1875,\n      i, p, x, y;\n\n    ctx.strokeStyle = color;\n    ctx.lineWidth = s * 0.5;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n\n    for (i = 4; i--;) {\n      p = (t + i / 4) % 1;\n      x = Math.floor(cx + ((i - 1.5) / 1.5) * (i === 1 || i === 2 ? -1 : 1) * a) + 0.5;\n      y = cy + p * cw;\n      this.line(ctx, x, y - s * 1.5, x, y + s * 1.5);\n    }\n  }\n\n  private _snow(ctx, t, cx, cy, cw, s, color) {\n    t /= 3000;\n\n    var a = cw * 0.16,\n      b = s * 0.75,\n      u = t * TAU * 0.7,\n      ux = Math.cos(u) * b,\n      uy = Math.sin(u) * b,\n      v = u + TAU / 3,\n      vx = Math.cos(v) * b,\n      vy = Math.sin(v) * b,\n      w = u + TAU * 2 / 3,\n      wx = Math.cos(w) * b,\n      wy = Math.sin(w) * b,\n      i, p, x, y;\n\n    ctx.strokeStyle = color;\n    ctx.lineWidth = s * 0.5;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n\n    for (i = 4; i--;) {\n      p = (t + i / 4) % 1;\n      x = cx + Math.sin((p + i / 4) * TAU) * a;\n      y = cy + p * cw;\n\n      this.line(ctx, x - ux, y - uy, x + ux, y + uy);\n      this.line(ctx, x - vx, y - vy, x + vx, y + vy);\n      this.line(ctx, x - wx, y - wy, x + wx, y + wy);\n    }\n  }\n\n  private fogbank(ctx, t, cx, cy, cw, s, color) {\n    t /= 30000;\n\n    let a = cw * 0.21,\n      b = cw * 0.06,\n      c = cw * 0.21,\n      d = cw * 0.28;\n\n    ctx.fillStyle = color;\n    this.puffs(ctx, t, cx, cy, a, b, c, d);\n\n    ctx.globalCompositeOperation = 'destination-out';\n    this.puffs(ctx, t, cx, cy, a, b, c - s, d - s);\n    ctx.globalCompositeOperation = 'source-over';\n  }\n\n  private leaf(ctx, t, x, y, cw, s, color) {\n    let a = cw / 8,\n      b = a / 3,\n      c = 2 * b,\n      d = (t % 1) * TAU,\n      e = Math.cos(d),\n      f = Math.sin(d);\n\n    ctx.fillStyle = color;\n    ctx.strokeStyle = color;\n    ctx.lineWidth = s;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n\n    ctx.beginPath();\n    ctx.arc(x, y, a, d, d + Math.PI, false);\n    ctx.arc(x - b * e, y - b * f, c, d + Math.PI, d, false);\n    ctx.arc(x + c * e, y + c * f, b, d + Math.PI, d, true);\n    ctx.globalCompositeOperation = 'destination-out';\n    ctx.fill();\n    ctx.globalCompositeOperation = 'source-over';\n    ctx.stroke();\n  }\n\n  private swoosh(ctx, t, cx, cy, cw, s, index, total, color) {\n    t /= 2500;\n\n    let path = this.WIND_PATHS[index],\n      a = (t + index - this.WIND_OFFSETS[index].start) % total,\n      c = (t + index - this.WIND_OFFSETS[index].end) % total,\n      e = (t + index) % total,\n      b, d, f, i;\n\n    ctx.strokeStyle = color;\n    ctx.lineWidth = s;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n\n    if (a < 1) {\n      ctx.beginPath();\n\n      a *= path.length / 2 - 1;\n      b = Math.floor(a);\n      a -= b;\n      b *= 2;\n      b += 2;\n\n      ctx.moveTo(\n        cx + (path[b - 2] * (1 - a) + path[b] * a) * cw,\n        cy + (path[b - 1] * (1 - a) + path[b + 1] * a) * cw\n      );\n\n      if (c < 1) {\n        c *= path.length / 2 - 1;\n        d = Math.floor(c);\n        c -= d;\n        d *= 2;\n        d += 2;\n\n        for (i = b; i !== d; i += 2)\n          ctx.lineTo(cx + path[i] * cw, cy + path[i + 1] * cw);\n\n        ctx.lineTo(\n          cx + (path[d - 2] * (1 - c) + path[d] * c) * cw,\n          cy + (path[d - 1] * (1 - c) + path[d + 1] * c) * cw\n        );\n      }\n\n      else\n        for (i = b; i !== path.length; i += 2)\n          ctx.lineTo(cx + path[i] * cw, cy + path[i + 1] * cw);\n\n      ctx.stroke();\n    }\n\n    else if (c < 1) {\n      ctx.beginPath();\n\n      c *= path.length / 2 - 1;\n      d = Math.floor(c);\n      c -= d;\n      d *= 2;\n      d += 2;\n\n      ctx.moveTo(cx + path[0] * cw, cy + path[1] * cw);\n\n      for (i = 2; i !== d; i += 2)\n        ctx.lineTo(cx + path[i] * cw, cy + path[i + 1] * cw);\n\n      ctx.lineTo(\n        cx + (path[d - 2] * (1 - c) + path[d] * c) * cw,\n        cy + (path[d - 1] * (1 - c) + path[d + 1] * c) * cw\n      );\n\n      ctx.stroke();\n    }\n\n    if (e < 1) {\n      e *= path.length / 2 - 1;\n      f = Math.floor(e);\n      e -= f;\n      f *= 2;\n      f += 2;\n\n      this.leaf(\n        ctx,\n        t,\n        cx + (path[f - 2] * (1 - e) + path[f] * e) * cw,\n        cy + (path[f - 1] * (1 - e) + path[f + 1] * e) * cw,\n        cw,\n        s,\n        color\n      );\n    }\n  }\n\n  constructor() {\n  }\n\n  clearDay(ctx, t, color) {\n    let w = ctx.canvas.width,\n      h = ctx.canvas.height,\n      s = Math.min(w, h);\n\n    this.sun(ctx, t, w * 0.5, h * 0.5, s, s * STROKE, color);\n  }\n\n  clearNight(ctx, t, color) {\n    let w = ctx.canvas.width,\n      h = ctx.canvas.height,\n      s = Math.min(w, h);\n\n    this.moon(ctx, t, w * 0.5, h * 0.5, s, s * STROKE, color);\n  }\n\n  partlyCloudyDay(ctx, t, color) {\n    let w = ctx.canvas.width,\n      h = ctx.canvas.height,\n      s = Math.min(w, h);\n\n    this.sun(ctx, t, w * 0.625, h * 0.375, s * 0.75, s * STROKE, color);\n    this.cloud(ctx, t, w * 0.375, h * 0.625, s * 0.75, s * STROKE, color);\n  }\n\n  partlyCloudyNight(ctx, t, color) {\n    let w = ctx.canvas.width,\n      h = ctx.canvas.height,\n      s = Math.min(w, h);\n\n    this.moon(ctx, t, w * 0.667, h * 0.375, s * 0.75, s * STROKE, color);\n    this.cloud(ctx, t, w * 0.375, h * 0.625, s * 0.75, s * STROKE, color);\n  }\n\n  cloudy(ctx, t, color) {\n    let w = ctx.canvas.width,\n      h = ctx.canvas.height,\n      s = Math.min(w, h);\n\n    this.cloud(ctx, t, w * 0.5, h * 0.5, s, s * STROKE, color);\n  }\n\n  rain(ctx, t, color) {\n    let w = ctx.canvas.width,\n      h = ctx.canvas.height,\n      s = Math.min(w, h);\n\n    this._rain(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\n    this.cloud(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\n  }\n\n  sleet(ctx, t, color) {\n    let w = ctx.canvas.width,\n      h = ctx.canvas.height,\n      s = Math.min(w, h);\n\n    this._sleet(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\n    this.cloud(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\n  }\n\n  snow(ctx, t, color) {\n    let w = ctx.canvas.width,\n      h = ctx.canvas.height,\n      s = Math.min(w, h);\n\n    this._snow(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\n    this.cloud(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\n  }\n\n  wind(ctx, t, color) {\n    let w = ctx.canvas.width,\n      h = ctx.canvas.height,\n      s = Math.min(w, h);\n\n    this.swoosh(ctx, t, w * 0.5, h * 0.5, s, s * STROKE, 0, 2, color);\n    this.swoosh(ctx, t, w * 0.5, h * 0.5, s, s * STROKE, 1, 2, color);\n  }\n\n  fog(ctx, t, color) {\n    let w = ctx.canvas.width,\n      h = ctx.canvas.height,\n      s = Math.min(w, h),\n      k = s * STROKE;\n\n    this.fogbank(ctx, t, w * 0.5, h * 0.32, s * 0.75, k, color);\n\n    t /= 5000;\n\n    let a = Math.cos((t) * TAU) * s * 0.02,\n      b = Math.cos((t + 0.25) * TAU) * s * 0.02,\n      c = Math.cos((t + 0.50) * TAU) * s * 0.02,\n      d = Math.cos((t + 0.75) * TAU) * s * 0.02,\n      n = h * 0.936,\n      e = Math.floor(n - k * 0.5) + 0.5,\n      f = Math.floor(n - k * 2.5) + 0.5;\n\n    ctx.strokeStyle = color;\n    ctx.lineWidth = k;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n\n    this.line(ctx, a + w * 0.2 + k * 0.5, e, b + w * 0.8 - k * 0.5, e);\n    this.line(ctx, c + w * 0.2 + k * 0.5, f, d + w * 0.8 - k * 0.5, f);\n  }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.remove();\n    this.ctx = this.canvas.nativeElement;\n    this.add();\n    this.play();\n  }\n\n  ngAfterViewInit(): void {\n    this.ctx = this.canvas.nativeElement;\n\n    if (!this.color) {\n      this.color = '#000';\n    }\n\n    this.add();\n    this.play();\n  }\n\n  add() {\n    // Return on undefined ctx.\n    if (!this.ctx || !this.weather) {\n      return;\n    }\n\n    let obj;\n\n    let el = this.ctx;\n\n    // Does nothing if canvas name doesn't exists\n    if (el === null)\n      return;\n\n    obj = {\n      element: el,\n      context: el.getContext(\"2d\")\n    };\n\n    this.list.push(obj);\n    this.draw(obj, KEYFRAME);\n  }\n\n  draw(obj, time) {\n    var canvas = obj.context.canvas;\n\n    if (this.resizeClear)\n      canvas.width = canvas.width;\n    else\n      obj.context.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Clean weather in order to add more types and robustness\n    this.weather = this.weather.replace(/[_-\\s]/, '').toUpperCase();\n    \n    if (this.weather.includes('DAY') && this.weather.includes('CLOUD')) {\n      this.weather = SkyconsTypes.PARTLY_CLOUDY_DAY;\n    }\n    else if (this.weather.includes('NIGHT') && this.weather.includes('CLOUD')) {\n      this.weather = SkyconsTypes.PARTLY_CLOUDY_NIGHT;\n    }\n    else if (this.weather.includes('RAIN')) {\n      this.weather = SkyconsTypes.RAIN;\n    }\n    \n    switch (this.weather) {\n      case SkyconsTypes.CLEAR_DAY:\n        this.clearDay(obj.context, time, this.color);\n        break;\n      case SkyconsTypes.CLEAR_NIGHT:\n        this.clearNight(obj.context, time, this.color);\n        break;\n      case SkyconsTypes.PARTLY_CLOUDY_DAY:\n        this.partlyCloudyDay(obj.context, time, this.color);\n        break;\n      case SkyconsTypes.PARTLY_CLOUDY_NIGHT:\n        this.partlyCloudyNight(obj.context, time, this.color);\n        break;\n      case SkyconsTypes.CLOUDY:\n        this.cloudy(obj.context, time, this.color);\n        break;\n      case SkyconsTypes.RAIN:\n        this.rain(obj.context, time, this.color);\n        break;\n      case SkyconsTypes.SLEET:\n        this.sleet(obj.context, time, this.color);\n        break;\n      case SkyconsTypes.SNOW:\n        this.snow(obj.context, time, this.color);\n        break;\n      case SkyconsTypes.WIND:\n        this.wind(obj.context, time, this.color);\n        break;\n      case SkyconsTypes.FOG:\n        this.fog(obj.context, time, this.color);\n        break;\n    }\n  }\n\n  play() {\n    this.pause();\n\n    this.interval = this.requestInterval(() => {\n      let now = Date.now(), i;\n\n      for (i = this.list.length; i--;)\n        this.draw(this.list[i], now);\n    }, 1000 / 60);\n  }\n\n  pause() {\n    if (this.interval) {\n      this.cancelInterval(this.interval);\n      this.interval = null;\n    }\n  }\n\n  remove() {\n    let el = this.ctx;\n\n    for (let i = this.list.length; i--;)\n    {\n      if (this.list[i].element === el) {\n        this.list.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { SkyconsComponent } from './ngx-skycons.component';\n\n@NgModule({\n  declarations: [SkyconsComponent],\n  imports: [\n  ],\n  exports: [SkyconsComponent]\n})\nexport class SkyconsModule { }\n"]}